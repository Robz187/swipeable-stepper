<div class="evaluation-dialog" role="main">
  <cx-touch-stepper [linear]="true">

    @for (step of steps; track step.id; let idx = $index) {
      <mat-step
        [label]="step.title"
        [stepControl]="stepForms[idx]"
        [editable]="true"
        [optional]="false">

        <div class="step-title-box">
          <h3>{{ step.title }}</h3>
          <p>{{ step.subtitle }}</p>
        </div>

        <div class="step-form-content">
          <label class="form-label">
            Bewertung f√ºr {{ step.title }}
            <input
              type="text"
              class="form-textarea"
              [formControl]="stepForms[idx].controls.evaluation"
              placeholder="Ihre Bewertung..."
              style="height: 60px;">
          </label>

          @if (stepForms[idx].controls.evaluation.invalid && stepForms[idx].controls.evaluation.touched) {
            <div class="error-message">Dieses Feld ist erforderlich</div>
          }
        </div>
      </mat-step>
    }
  </cx-touch-stepper>
</div>
